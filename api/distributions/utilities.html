
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Distribution utility classes and functions &#8212; PyMC3 3.11.0 documentation</title>
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/semantic-sphinx.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/default.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "document", "processClass": "math|output_area"}})</script>
    <script src="../../_static/highlight.min.js"></script>
    <script src="../../_static/semantic.min.js"></script>
    <link rel="shortcut icon" href="../../_static/PyMC3.ico"/>
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
<script>
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-176578023-1']);
  _gaq.push(['_trackPageview']);
</script>
<script>hljs.initHighlightingOnLoad();</script>
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">



  </head><body>
<div class="ui vertical center aligned">

    <div class="ui container">
        <div class="ui large secondary pointing menu">
            <a class="item" href="/">
                <img class="ui bottom aligned tiny image" src="https://cdn.rawgit.com/pymc-devs/pymc3/master/docs/logos/svg/PyMC3_banner.svg" />
            </a>
             <a href="../../nb_tutorials/index.html" class="item">Tutorials</a> <a href="../../nb_examples/index.html" class="item">Examples</a> <a href="../../learn.html" class="item">Books + Videos</a> <a href="../../api.html" class="item">API</a> <a href="../../developer_guide.html" class="item">Developer Guide</a> <a href="../../about.html" class="item">About PyMC3</a>
            
            <div class="right menu">
                <div class="item">
                    <form class="ui icon input" action="../../search.html" method="get">
                        <input type="text" placeholder="Search..." name="q" />
                        <i class="search link icon"></i>
                    </form>
                </div>
                <a class="item" href="https://github.com/pymc-devs/pymc3"><i class="github blue icon large"></i></a>
            </div>
        </div>
    </div>
    
</div>

<div class="ui container" role="main">
    

    <div class="ui vertical segment">
        
  <div class="section" id="distribution-utility-classes-and-functions">
<h1>Distribution utility classes and functions<a class="headerlink" href="#distribution-utility-classes-and-functions" title="Permalink to this headline">¶</a></h1>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#pymc3.distributions.Distribution" title="pymc3.distributions.Distribution"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Distribution</span></code></a>(name, *args, **kwargs)</p></td>
<td><p>Statistical distribution</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pymc3.distributions.Discrete" title="pymc3.distributions.Discrete"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Discrete</span></code></a>(name, *args, **kwargs)</p></td>
<td><p>Base class for discrete distributions</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pymc3.distributions.Continuous" title="pymc3.distributions.Continuous"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Continuous</span></code></a>(name, *args, **kwargs)</p></td>
<td><p>Base class for continuous distributions</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pymc3.distributions.NoDistribution" title="pymc3.distributions.NoDistribution"><code class="xref py py-obj docutils literal notranslate"><span class="pre">NoDistribution</span></code></a>(name, *args, **kwargs)</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pymc3.distributions.DensityDist" title="pymc3.distributions.DensityDist"><code class="xref py py-obj docutils literal notranslate"><span class="pre">DensityDist</span></code></a>(name, *args, **kwargs)</p></td>
<td><p>Distribution based on a given log density function.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pymc3.distributions.TensorType" title="pymc3.distributions.TensorType"><code class="xref py py-obj docutils literal notranslate"><span class="pre">TensorType</span></code></a>(dtype, shape[, broadcastable])</p></td>
<td><p></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#pymc3.distributions.draw_values" title="pymc3.distributions.draw_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">draw_values</span></code></a>(params[, point, size])</p></td>
<td><p>Draw (fix) parameter values.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#pymc3.distributions.generate_samples" title="pymc3.distributions.generate_samples"><code class="xref py py-obj docutils literal notranslate"><span class="pre">generate_samples</span></code></a>(generator, *args, **kwargs)</p></td>
<td><p>Generate samples from the distribution of a random variable.</p></td>
</tr>
</tbody>
</table>
<dl class="py class">
<dt id="pymc3.distributions.Distribution">
<em class="property">class </em><code class="sig-prename descclassname">pymc3.distributions.</code><code class="sig-name descname">Distribution</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.distributions.Distribution" title="Permalink to this definition">¶</a></dt>
<dd><p>Statistical distribution</p>
</dd></dl>

<dl class="py class">
<dt id="pymc3.distributions.Discrete">
<em class="property">class </em><code class="sig-prename descclassname">pymc3.distributions.</code><code class="sig-name descname">Discrete</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.distributions.Discrete" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for discrete distributions</p>
</dd></dl>

<dl class="py class">
<dt id="pymc3.distributions.Continuous">
<em class="property">class </em><code class="sig-prename descclassname">pymc3.distributions.</code><code class="sig-name descname">Continuous</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.distributions.Continuous" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for continuous distributions</p>
</dd></dl>

<dl class="py class">
<dt id="pymc3.distributions.NoDistribution">
<em class="property">class </em><code class="sig-prename descclassname">pymc3.distributions.</code><code class="sig-name descname">NoDistribution</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.distributions.NoDistribution" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt id="pymc3.distributions.DensityDist">
<em class="property">class </em><code class="sig-prename descclassname">pymc3.distributions.</code><code class="sig-name descname">DensityDist</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">name</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.distributions.DensityDist" title="Permalink to this definition">¶</a></dt>
<dd><p>Distribution based on a given log density function.</p>
<p>A distribution with the passed log density function is created.
Requires a custom random function passed as kwarg <cite>random</cite> to
enable prior or posterior predictive sampling.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>logp: callable</strong></dt><dd><p>A callable that has the following signature <code class="docutils literal notranslate"><span class="pre">logp(value)</span></code> and
returns a theano tensor that represents the distribution’s log
probability density.</p>
</dd>
<dt><strong>shape: tuple (Optional): defaults to `()`</strong></dt><dd><p>The shape of the distribution. The default value indicates a scalar.
If the distribution is <em>not</em> scalar-valued, the programmer should pass
a value here.</p>
</dd>
<dt><strong>dtype: None, str (Optional)</strong></dt><dd><p>The dtype of the distribution.</p>
</dd>
<dt><strong>testval: number or array (Optional)</strong></dt><dd><p>The <code class="docutils literal notranslate"><span class="pre">testval</span></code> of the RV’s tensor that follow the <code class="docutils literal notranslate"><span class="pre">DensityDist</span></code>
distribution.</p>
</dd>
<dt><strong>random: None or callable (Optional)</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">None</span></code>, no random method is attached to the <code class="docutils literal notranslate"><span class="pre">DensityDist</span></code>
instance.
If a callable, it is used as the distribution’s <code class="docutils literal notranslate"><span class="pre">random</span></code> method.
The behavior of this callable can be altered with the
<code class="docutils literal notranslate"><span class="pre">wrap_random_with_dist_shape</span></code> parameter.
The supplied callable must have the following signature:
<code class="docutils literal notranslate"><span class="pre">random(point=None,</span> <span class="pre">size=None,</span> <span class="pre">**kwargs)</span></code>, where <code class="docutils literal notranslate"><span class="pre">point</span></code> is a
<code class="docutils literal notranslate"><span class="pre">None</span></code> or a dictionary of random variable names and their
corresponding values (similar to what <code class="docutils literal notranslate"><span class="pre">MultiTrace.get_point</span></code>
returns). <code class="docutils literal notranslate"><span class="pre">size</span></code> is the number of IID draws to take from the
distribution. Any extra keyword argument can be added as required.</p>
</dd>
<dt><strong>wrap_random_with_dist_shape: bool (Optional)</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the provided <code class="docutils literal notranslate"><span class="pre">random</span></code> callable is passed through
<code class="docutils literal notranslate"><span class="pre">generate_samples</span></code> to make the random number generator aware of
the <code class="docutils literal notranslate"><span class="pre">DensityDist</span></code> instance’s <code class="docutils literal notranslate"><span class="pre">shape</span></code>.
If <code class="docutils literal notranslate"><span class="pre">False</span></code>, it is used exactly as it was provided.</p>
</dd>
<dt><strong>check_shape_in_random: bool (Optional)</strong></dt><dd><p>If <code class="docutils literal notranslate"><span class="pre">True</span></code>, the shape of the random samples generate in the
<code class="docutils literal notranslate"><span class="pre">random</span></code> method is checked with the expected return shape. This
test is only performed if <code class="docutils literal notranslate"><span class="pre">wrap_random_with_dist_shape</span> <span class="pre">is</span> <span class="pre">False</span></code>.</p>
</dd>
<dt><strong>args, kwargs: (Optional)</strong></dt><dd><p>These are passed to the parent class’ <code class="docutils literal notranslate"><span class="pre">__init__</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If the <code class="docutils literal notranslate"><span class="pre">random</span></code> method is wrapped with dist shape, what this
means is that the <code class="docutils literal notranslate"><span class="pre">random</span></code> callable will be wrapped with the
<code class="xref py py-func docutils literal notranslate"><span class="pre">genereate_samples()</span></code> function. The distribution’s shape will
be passed to <a class="reference internal" href="#pymc3.distributions.generate_samples" title="pymc3.distributions.generate_samples"><code class="xref py py-func docutils literal notranslate"><span class="pre">generate_samples()</span></code></a> as the <code class="docutils literal notranslate"><span class="pre">dist_shape</span></code>
parameter. Any extra <code class="docutils literal notranslate"><span class="pre">kwargs</span></code> provided to <code class="docutils literal notranslate"><span class="pre">random</span></code> will be
passed as <code class="docutils literal notranslate"><span class="pre">not_broadcast_kwargs</span></code> of <a class="reference internal" href="#pymc3.distributions.generate_samples" title="pymc3.distributions.generate_samples"><code class="xref py py-func docutils literal notranslate"><span class="pre">generate_samples()</span></code></a>.</p>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">pm</span><span class="o">.</span><span class="n">Model</span><span class="p">():</span>
    <span class="n">mu</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s1">&#39;mu&#39;</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">normal_dist</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">pm</span><span class="o">.</span><span class="n">DensityDist</span><span class="p">(</span>
        <span class="s1">&#39;density_dist&#39;</span><span class="p">,</span>
        <span class="n">normal_dist</span><span class="o">.</span><span class="n">logp</span><span class="p">,</span>
        <span class="n">observed</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
        <span class="n">random</span><span class="o">=</span><span class="n">normal_dist</span><span class="o">.</span><span class="n">random</span>
    <span class="p">)</span>
    <span class="n">trace</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>If the <code class="docutils literal notranslate"><span class="pre">DensityDist</span></code> is multidimensional, some care must be taken
with the supplied <code class="docutils literal notranslate"><span class="pre">random</span></code> method. By default, the supplied random
is wrapped by <a class="reference internal" href="#pymc3.distributions.generate_samples" title="pymc3.distributions.generate_samples"><code class="xref py py-func docutils literal notranslate"><span class="pre">generate_samples()</span></code></a> to make it aware of the
multidimensional distribution’s shape.
This can be prevented setting <code class="docutils literal notranslate"><span class="pre">wrap_random_with_dist_shape=False</span></code>.
Furthermore, the <code class="docutils literal notranslate"><span class="pre">size</span></code> parameter is interpreted as the number of
IID draws to take from this multidimensional distribution.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">pm</span><span class="o">.</span><span class="n">Model</span><span class="p">():</span>
    <span class="n">mu</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s1">&#39;mu&#39;</span><span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">normal_dist</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">dens</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">DensityDist</span><span class="p">(</span>
        <span class="s1">&#39;density_dist&#39;</span><span class="p">,</span>
        <span class="n">normal_dist</span><span class="o">.</span><span class="n">logp</span><span class="p">,</span>
        <span class="n">observed</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
        <span class="n">shape</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">random</span><span class="o">=</span><span class="n">normal_dist</span><span class="o">.</span><span class="n">random</span><span class="p">,</span>
    <span class="p">)</span>
    <span class="n">prior</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">sample_prior_predictive</span><span class="p">(</span><span class="mi">10</span><span class="p">)[</span><span class="s1">&#39;density_dist&#39;</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">prior</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>If <code class="docutils literal notranslate"><span class="pre">wrap_random_with_dist_shape=False</span></code>, we start to get samples of
an incorrect shape. By default, we can try to catch these situations.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">pm</span><span class="o">.</span><span class="n">Model</span><span class="p">():</span>
    <span class="n">mu</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s1">&#39;mu&#39;</span><span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">normal_dist</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">dens</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">DensityDist</span><span class="p">(</span>
        <span class="s1">&#39;density_dist&#39;</span><span class="p">,</span>
        <span class="n">normal_dist</span><span class="o">.</span><span class="n">logp</span><span class="p">,</span>
        <span class="n">observed</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
        <span class="n">shape</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">random</span><span class="o">=</span><span class="n">normal_dist</span><span class="o">.</span><span class="n">random</span><span class="p">,</span>
        <span class="n">wrap_random_with_dist_shape</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># Is True by default</span>
    <span class="p">)</span>
    <span class="n">err</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">prior</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">sample_prior_predictive</span><span class="p">(</span><span class="mi">10</span><span class="p">)[</span><span class="s1">&#39;density_dist&#39;</span><span class="p">]</span>
    <span class="k">except</span> <span class="ne">RuntimeError</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
        <span class="n">err</span> <span class="o">=</span> <span class="n">e</span>
    <span class="k">assert</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">err</span><span class="p">,</span> <span class="ne">RuntimeError</span><span class="p">)</span>
</pre></div>
</div>
<p>The default catching can be disabled with the
<code class="docutils literal notranslate"><span class="pre">check_shape_in_random</span></code> parameter.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">pm</span><span class="o">.</span><span class="n">Model</span><span class="p">():</span>
    <span class="n">mu</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s1">&#39;mu&#39;</span><span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">normal_dist</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">dens</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">DensityDist</span><span class="p">(</span>
        <span class="s1">&#39;density_dist&#39;</span><span class="p">,</span>
        <span class="n">normal_dist</span><span class="o">.</span><span class="n">logp</span><span class="p">,</span>
        <span class="n">observed</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
        <span class="n">shape</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">random</span><span class="o">=</span><span class="n">normal_dist</span><span class="o">.</span><span class="n">random</span><span class="p">,</span>
        <span class="n">wrap_random_with_dist_shape</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># Is True by default</span>
        <span class="n">check_shape_in_random</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># Is True by default</span>
    <span class="p">)</span>
    <span class="n">prior</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">sample_prior_predictive</span><span class="p">(</span><span class="mi">10</span><span class="p">)[</span><span class="s1">&#39;density_dist&#39;</span><span class="p">]</span>
    <span class="c1"># We get samples with an incorrect shape</span>
    <span class="k">assert</span> <span class="n">prior</span><span class="o">.</span><span class="n">shape</span> <span class="o">!=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
<p>If you use callables that work with <code class="docutils literal notranslate"><span class="pre">scipy.stats</span></code> rvs, you must
be aware that their <code class="docutils literal notranslate"><span class="pre">size</span></code> parameter is not the number of IID
samples to draw from a distribution, but the desired <code class="docutils literal notranslate"><span class="pre">shape</span></code> of
the returned array of samples. It is the user’s responsibility to
wrap the callable to make it comply with PyMC3’s interpretation
of <code class="docutils literal notranslate"><span class="pre">size</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="n">pm</span><span class="o">.</span><span class="n">Model</span><span class="p">():</span>
    <span class="n">mu</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="p">(</span><span class="s1">&#39;mu&#39;</span><span class="p">,</span> <span class="mi">0</span> <span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
    <span class="n">normal_dist</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">Normal</span><span class="o">.</span><span class="n">dist</span><span class="p">(</span><span class="n">mu</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">shape</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
    <span class="n">dens</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">DensityDist</span><span class="p">(</span>
        <span class="s1">&#39;density_dist&#39;</span><span class="p">,</span>
        <span class="n">normal_dist</span><span class="o">.</span><span class="n">logp</span><span class="p">,</span>
        <span class="n">observed</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">randn</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span>
        <span class="n">shape</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
        <span class="n">random</span><span class="o">=</span><span class="n">stats</span><span class="o">.</span><span class="n">norm</span><span class="o">.</span><span class="n">rvs</span><span class="p">,</span>
        <span class="n">pymc3_size_interpretation</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="c1"># Is True by default</span>
    <span class="p">)</span>
    <span class="n">prior</span> <span class="o">=</span> <span class="n">pm</span><span class="o">.</span><span class="n">sample_prior_predictive</span><span class="p">(</span><span class="mi">10</span><span class="p">)[</span><span class="s1">&#39;density_dist&#39;</span><span class="p">]</span>
<span class="k">assert</span> <span class="n">prior</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt id="pymc3.distributions.TensorType">
<code class="sig-prename descclassname">pymc3.distributions.</code><code class="sig-name descname">TensorType</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dtype</span></em>, <em class="sig-param"><span class="n">shape</span></em>, <em class="sig-param"><span class="n">broadcastable</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.distributions.TensorType" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt id="pymc3.distributions.draw_values">
<code class="sig-prename descclassname">pymc3.distributions.</code><code class="sig-name descname">draw_values</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">params</span></em>, <em class="sig-param"><span class="n">point</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">size</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.distributions.draw_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Draw (fix) parameter values. Handles a number of cases:</p>
<blockquote>
<div><ol class="arabic">
<li><p>The parameter is a scalar</p></li>
<li><p>The parameter is an RV</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>parameter can be fixed to the value in the point</p></li>
<li><p>parameter can be fixed by sampling from the RV</p></li>
<li><p>parameter can be fixed using tag.test_value (last resort)</p></li>
</ol>
</div></blockquote>
</li>
</ol>
<p>3) The parameter is a tensor variable/constant. Can be evaluated using
theano.function, but a variable may contain nodes which</p>
<blockquote>
<div><ol class="loweralpha simple">
<li><p>are named parameters in the point</p></li>
<li><p>are RVs with a random method</p></li>
</ol>
</div></blockquote>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="pymc3.distributions.generate_samples">
<code class="sig-prename descclassname">pymc3.distributions.</code><code class="sig-name descname">generate_samples</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">generator</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="headerlink" href="#pymc3.distributions.generate_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate samples from the distribution of a random variable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>generator: function</strong></dt><dd><p>Function to generate the random samples. The function is
expected take parameters for generating samples and
a keyword argument <code class="docutils literal notranslate"><span class="pre">size</span></code> which determines the shape
of the samples.
The args and kwargs (stripped of the keywords below) will be
passed to the generator function.</p>
</dd>
<dt><strong>keyword arguments</strong></dt><dd></dd>
<dt><strong>~~~~~~~~~~~~~~~~~</strong></dt><dd></dd>
<dt><strong>dist_shape: int or tuple of int</strong></dt><dd><p>The shape of the random variable (i.e., the shape attribute).</p>
</dd>
<dt><strong>size: int or tuple of int</strong></dt><dd><p>The required shape of the samples.</p>
</dd>
<dt><strong>broadcast_shape: tuple of int or None</strong></dt><dd><p>The shape resulting from the broadcasting of the parameters.
If not specified it will be inferred from the shape of the
parameters. This may be required when the parameter shape
does not determine the shape of a single sample, for example,
the shape of the probabilities in the Categorical distribution.</p>
</dd>
<dt><strong>not_broadcast_kwargs: dict or None</strong></dt><dd><p>Key word argument dictionary to provide to the random generator, which
must not be broadcasted with the rest of the args and kwargs.</p>
</dd>
<dt><strong>Any remaining args and kwargs are passed on to the generator function.</strong></dt><dd></dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>


    </div>
</div>
<div class="ui vertical footer segment">
    <div class="ui center aligned container">
        <a href="https://github.com/pymc-devs/pymc3"><i class="github icon large"></i></a>
        <a href="https://twitter.com/pymc_devs"><i class="twitter icon large"></i></a>
        <a href="https://discourse.pymc.io/"><i class="discourse icon large"></i></a>
    </div>
    <div class="ui center aligned container">This page uses <a href="https://analytics.google.com/">
    Google Analytics</a> to collect statistics. You can disable it by blocking
    the JavaScript coming from www.google-analytics.com.
    <script>
      (function() {
        var ga = document.createElement('script');
        ga.src = ('https:' == document.location.protocol ?
                  'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        ga.setAttribute('async', 'true');
        document.documentElement.firstChild.appendChild(ga);
      })();
    </script>
    </div>
    <div class="ui center aligned container">
        <p>
            &copy; Copyright 2018, The PyMC Development Team.
        </p>
        <p>
            Created using <a href="https://sphinx-doc.org/">Sphinx</a> 3.4.3.<br />
        </p>
    </div>
</div>
  </body>
</html>